\hypertarget{modulator__test_8cpp}{\section{src/modulator\+\_\+test.cpp File Reference}
\label{modulator__test_8cpp}\index{src/modulator\+\_\+test.\+cpp@{src/modulator\+\_\+test.\+cpp}}
}


contains a test program to test the Modulator class  


{\ttfamily \#include $<$cstdio$>$}\\*
{\ttfamily \#include $<$cstdlib$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include \char`\"{}auxiliary.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Modulator.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Pl\+Tone.\+hpp\char`\"{}}\\*
Include dependency graph for modulator\+\_\+test.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{modulator__test_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{modulator__test_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
contains a test program to test the Modulator class 

\begin{DoxyAuthor}{Author}
Samuel Andrew Wisner, \href{mailto:awisner94@gmail.com}{\tt awisner94@gmail.\+com} 
\end{DoxyAuthor}
\begin{DoxyRefDesc}{Bug}
\item[\hyperlink{bug__bug000005}{Bug}]filtered S\+S\+B clicking \end{DoxyRefDesc}


Definition in file \hyperlink{modulator__test_8cpp_source}{modulator\+\_\+test.\+cpp}.



\subsection{Function Documentation}
\hypertarget{modulator__test_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{\index{modulator\+\_\+test.\+cpp@{modulator\+\_\+test.\+cpp}!main@{main}}
\index{main@{main}!modulator\+\_\+test.\+cpp@{modulator\+\_\+test.\+cpp}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{modulator__test_8cpp_a0ddf1224851353fc92bfbff6f499fa97}
Program to test the Modulator class with a self-\/generated sinusoidal input. 

Definition at line \hyperlink{modulator__test_8cpp_source_l00024}{24} of file \hyperlink{modulator__test_8cpp_source}{modulator\+\_\+test.\+cpp}.


\begin{DoxyCode}
00024                                  \{
00025 
00026     \textcolor{comment}{// Constants}
00027     \textcolor{keyword}{const} \hyperlink{definitions_8hpp_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} BUFFER\_SIZE = 16384;
00028 
00029     \textcolor{comment}{// Declare primative Variables}
00030     \hyperlink{definitions_8hpp_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32} dataBuffer[BUFFER\_SIZE];
00031     \hyperlink{definitions_8hpp_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32} iqBuffer[2 * BUFFER\_SIZE];
00032     \hyperlink{namespaceradio_a46fb7299001138f28b7f69975c58399e}{ModulationType} type;
00033     \hyperlink{definitions_8hpp_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32} freq = atof(argv[2]);
00034     \hyperlink{definitions_8hpp_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32} tone = 0;
00035 
00036     \textcolor{keywordflow}{if}(argc >= 4) tone = atof(argv[3]);
00037 
00038     \textcolor{keywordflow}{try}\{
00039         type = \hyperlink{namespaceradio_a402fe28e2e2bb2be7a0d2d9f74cc640d}{to\_type}(\textcolor{keywordtype}{string}(argv[1]));
00040     \} \textcolor{keywordflow}{catch}(std::exception ex) \{
00041         std::cerr << ex.what() << std::endl << std::endl;
00042         \textcolor{keywordflow}{return} \hyperlink{definitions_8hpp_a8fe83ac76edc595f6b98cd4a4127aed5}{ERROR};
00043     \}
00044 
00045     \textcolor{keywordflow}{if}(freq < 0) \{
00046         cerr << \textcolor{stringliteral}{"The given tone was invalid."} << endl;
00047         \textcolor{keywordflow}{return} \hyperlink{definitions_8hpp_a8fe83ac76edc595f6b98cd4a4127aed5}{ERROR};
00048     \}
00049 
00050     \textcolor{comment}{// Declare objects}
00051     \hyperlink{classradio_1_1Modulator}{Modulator} modulator(dataBuffer, BUFFER\_SIZE, type, 20000);
00052     \hyperlink{classradio_1_1Sinusoid}{Sinusoid} sinusoid(freq);
00053     \hyperlink{classradio_1_1PlTone}{PlTone}(tone > 0 ? 0.15 : 0, dataBuffer, BUFFER\_SIZE, tone, 48000);
00054 
00055     \textcolor{keywordflow}{while}(\textcolor{keyword}{true}) \{
00056         \textcolor{keywordflow}{for}(\hyperlink{definitions_8hpp_a05f6b0ae8f6a6e135b0e290c25fe0e4e}{uint16} i = 0; i < BUFFER\_SIZE; i++) \{
00057             dataBuffer[i] = sinusoid.next();
00058         \}
00059 
00060         modulator.Mod();
00061         \hyperlink{namespaceradio_a7166522e76ff88e8d482491b1b6e2275}{makeIQ}(dataBuffer, iqBuffer, BUFFER\_SIZE);
00062         \hyperlink{namespaceradio_ae4b2334c4366dcdf0311ad79d2067945}{to\_sint32}(iqBuffer, 2 * BUFFER\_SIZE);
00063         write(STDOUT\_FILENO, &iqBuffer,  2 * BUFFER\_SIZE * \textcolor{keyword}{sizeof}(\hyperlink{definitions_8hpp_a0573de65958b4fda3a0460ed417dafb8}{sint32}));
00064     \}
00065 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{modulator__test_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}


